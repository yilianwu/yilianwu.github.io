<!DOCTYPE html>
<html lang="zh-tw"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="google-site-verification" content="ecnbl87JwcfWTJMChfv-5hv5Oui6nsHqvaTr0ha3Mjg" />
    <title>[ yilianwu ]</title>
    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
	  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">

    <link rel="stylesheet" href="https://yilianwu.github.io/css/styles.css">
    <link rel="stylesheet" href="https://yilianwu.github.io/css/font.css">
</head>
<body><header>
    <nav class="breadcrumb" id="breadcrumb">
	     <h4><a href="/">[ yilianwu ]</a></h4>
	       <div id="space"></div>
            
            <a href="/">Home</a>
            
            <a href="/about">About</a>
            
            <a href="/posts">Posts</a>
            
            <a href="/works">Works</a>
            
    </nav>
</header>

<main id="single">
  <div id="post" class="white">
	   <div class="container">
       <div class="paperbg">
	      <div id="title">
                <h1>在雲端物聯網上建立微系統</h1>
                <time datetime="2019-02-19T15:45:54&#43;0800">2019-02-19</time>

	      </div>

        <section class="post-content">
          

<h1 id="platform">Platform&nbsp;<a class="anchor" href="#platform"><i class="small linkify icon"></i></a> </h1>

<ul>
<li>Raspberry Pi<br /></li>
<li><a href="https://aws.amazon.com/tw/">Amazon AWS</a><br /></li>
<li><a href="https://cloud.google.com/">Google Cloud</a><br /></li>
<li><a href="https://azure.microsoft.com/zh-tw/">Microsoft Azure</a><br /></li>
<li><a href="https://tw.alibabacloud.com/">Alibaba</a><br /></li>
<li>其他<br />

<ul>
<li>嵌入式系統<br /></li>
<li>LG WebOS<br /></li>
<li>基地台<br /></li>
<li>三角定位 利用rssi強弱判斷距離 單位dbm能量單位 可做反向三角定位<br /></li>
<li>Google Machine Learning<br /></li>
<li><a href="https://www.tensorflow.org/">TensorFlow</a><br />
<br /></li>
</ul></li>
</ul>

<h2 id="aws">AWS&nbsp;<a class="anchor" href="#aws"><i class="small linkify icon"></i></a> </h2>

<p><a href="https://aws.amazon.com/">https://aws.amazon.com/</a></p>

<h3 id="註冊一個帳號">註冊一個帳號&nbsp;<a class="anchor" href="#註冊一個帳號"><i class="small linkify icon"></i></a> </h3>

<p><img src="https://i.imgur.com/ExmnQIf.png" alt="Imgur" /></p>

<h3 id="登入console">登入Console&nbsp;<a class="anchor" href="#登入console"><i class="small linkify icon"></i></a> </h3>

<p>服務&gt;運算&gt;EC2<br />
選擇EC2<br />
<img src="https://i.imgur.com/mN9FFoU.png" alt="Imgur" /></p>

<h3 id="launch-instance">Launch Instance&nbsp;<a class="anchor" href="#launch-instance"><i class="small linkify icon"></i></a> </h3>

<p>創立一個Instance<br />
<img src="https://i.imgur.com/Sq4pDb9.png" alt="Imgur" /></p>

<h4 id="step-1-選擇ami">Step 1: 選擇AMI&nbsp;<a class="anchor" href="#step-1-選擇ami"><i class="small linkify icon"></i></a> </h4>

<p>請選擇Ubuntu Server 18.04 LTS (HVM), SSD Volume Type - ami-07ad4b1c3af1ea214<br />
<img src="https://i.imgur.com/tNGFH4f.png" alt="Imgur" /></p>

<h4 id="step-2-choose-an-instance-type">Step 2: Choose an Instance Type&nbsp;<a class="anchor" href="#step-2-choose-an-instance-type"><i class="small linkify icon"></i></a> </h4>

<p>選擇免費方案！<br />
<img src="https://i.imgur.com/j2QIAtX.png" alt="Imgur" /></p>

<h4 id="step-3-review-and-launch">Step 3: Review and Launch&nbsp;<a class="anchor" href="#step-3-review-and-launch"><i class="small linkify icon"></i></a> </h4>

<p>準備發佈，不用害怕<br />
<img src="https://i.imgur.com/eedYvN5.png" alt="Imgur" /></p>

<h4 id="step-4-launch再給他按下去">Step 4: Launch再給他按下去&nbsp;<a class="anchor" href="#step-4-launch再給他按下去"><i class="small linkify icon"></i></a> </h4>

<p>檢查無誤就可以發布囉<br />
<img src="https://i.imgur.com/ILABWJZ.png" alt="Imgur" /></p>

<h4 id="step-5-創建key-pair">Step 5: 創建Key Pair&nbsp;<a class="anchor" href="#step-5-創建key-pair"><i class="small linkify icon"></i></a> </h4>

<p><img src="https://i.imgur.com/75eUM0U.png" alt="Imgur" /><br />
創建好按Download<br />
<code>.pem</code>檔會存在你的下載資料夾</p>

<h2 id="終端機打開">終端機打開&nbsp;<a class="anchor" href="#終端機打開"><i class="small linkify icon"></i></a> </h2>

<h3 id="一些設定">一些設定&nbsp;<a class="anchor" href="#一些設定"><i class="small linkify icon"></i></a> </h3>

<ol>
<li><code>cd ~/Downloads/</code><br /></li>
<li><code>chmod 400 檔名.pem</code><br />
將權限打開<br /></li>
<li><code>ls -al 檔名.pem</code><br />
若出現<code>-r</code>就代表成功了哦<br /></li>
<li><code>cat 檔名.pem</code><br />
<img src="https://i.imgur.com/JCfo4Tg.png" alt="Imgur" /><br />
<br /></li>
</ol>

<h3 id="登入你的系統">登入你的系統&nbsp;<a class="anchor" href="#登入你的系統"><i class="small linkify icon"></i></a> </h3>

<p><code>ssh -i &quot;檔名.pem&quot; ec2-13-114-52-101.ap-northeast-1.compute.amazonaws.com</code><br />
ec2-13-114-52-101.ap-northeast-1.compute.amazonaws.com是我的Public DNS (IPv4)</p>

<p>可以從這裡看～<br />
<img src="https://i.imgur.com/0BlGwIb.png" alt="Imgur" /><br />
若出現綠色ubuntu@ip-xxx-xx-xx-xx<br />
就代表成功登入ㄌ！<br />
<img src="https://i.imgur.com/wL5z1b7.png" alt="Imgur" /></p>

<h4 id="安裝mosh">安裝Mosh&nbsp;<a class="anchor" href="#安裝mosh"><i class="small linkify icon"></i></a> </h4>

<p>如果覺得ubuntu跑很慢可以安裝<br />
Mosh<br />
<img src="https://i.imgur.com/htAaAeh.png" alt="Imgur" /></p>

<p><img src="https://i.imgur.com/BxTznvR.png" alt="Imgur" /></p>

<h4 id="把本機的公鑰加入ubuntu">把本機的公鑰加入ubuntu&nbsp;<a class="anchor" href="#把本機的公鑰加入ubuntu"><i class="small linkify icon"></i></a> </h4>

<p>另開一個終端機視窗(本機) cmd+t<br />
複製本機的public key</p>

<pre><code>cat ~/.ssh/id_rsa.pub
</code></pre>

<p>cmd+1<br />
再回去ubuntu貼上本機公鑰</p>

<pre><code>vim ~/.ssh/authorized_keys
</code></pre>

<h4 id="安裝lamp-server">安裝LAMP Server&nbsp;<a class="anchor" href="#安裝lamp-server"><i class="small linkify icon"></i></a> </h4>

<pre><code>sudo apt-get install tasksel
</code></pre>

<pre><code>sudo tasksel 
</code></pre>

<p>法一：<br />
<img src="https://i.imgur.com/x333iYj.png" alt="Imgur" /><br />
[ * ] LAMP server 用空白鍵選擇 再按Tab 選擇<OK><br />
<img src="https://i.imgur.com/pu4GTYO.png" alt="Imgur" /></p>

<p>法二：<br />
終端機直接輸入安裝指令</p>

<pre><code>sudo tasksel install lamp-server
</code></pre>

<h4 id="查看連線狀況">查看連線狀況&nbsp;<a class="anchor" href="#查看連線狀況"><i class="small linkify icon"></i></a> </h4>

<pre><code>netstat -tnal
</code></pre>

<p><img src="https://i.imgur.com/jDclyKw.png" alt="Imgur" /></p>

<h5 id="回到aws">回到aws&nbsp;<a class="anchor" href="#回到aws"><i class="small linkify icon"></i></a> </h5>

<ol>
<li>選擇launch-wizard-4<br />
<img src="https://i.imgur.com/Q8ksnqO.png" alt="Imgur" /><br /></li>
<li>找到Inbound 編輯<br />
<img src="https://i.imgur.com/ik7xjL3.png" alt="Imgur" /><br /></li>
<li>新增HTTP、HTTPS與Custom UDP，如下：<br />
<img src="https://i.imgur.com/tpvrpT5.png" alt="Imgur" /><br /></li>

<li><p>輸入網址 搭拉！<br />
<img src="https://i.imgur.com/TNrAgSJ.png" alt="Imgur" /></p>

<h4 id="查看目錄">查看目錄&nbsp;<a class="anchor" href="#查看目錄"><i class="small linkify icon"></i></a> </h4>

<pre><code>cd /var/ //再按兩下tab
</code></pre>

<p><img src="https://i.imgur.com/Jk4JHtH.png" alt="Imgur" /><br />
<code>/var/www/html/</code> 中的 <code>index.html</code> 就是網頁的html</p>

<pre><code>ls -al
</code></pre>

<p>查看權限<br />
<img src="https://i.imgur.com/mnVi3Bx.png" alt="Imgur" /><br />
<img src="https://i.imgur.com/I2f7wjW.png" alt="Imgur" /><br />
<img src="https://i.imgur.com/XRTkxnQ.png" alt="Imgur" /></p>

<pre><code>sudo chmod 777 html/
</code></pre>

<p><img src="https://i.imgur.com/NDqKEAS.png" alt="Imgur" /></p>

<pre><code>sudo chmod -R 777 html/
</code></pre>

<p><img src="https://i.imgur.com/E9ti5Ly.png" alt="Imgur" /></p></li>
</ol>

<h4 id="開啟sublime-text">開啟Sublime Text&nbsp;<a class="anchor" href="#開啟sublime-text"><i class="small linkify icon"></i></a> </h4>

<p><img src="https://i.imgur.com/jtJXz8J.png" alt="thumbnail" /><br />
1. cmd + shift + P 輸入install 選擇<br />
Package Control: Install Package<br />
<img src="https://i.imgur.com/xczrWHu.png" alt="Imgur" /><br />
2. 安裝sftp<br />
<img src="https://i.imgur.com/gcCeFxb.png" alt="Imgur" /><br />
3. Browse Server<br />
<img src="https://i.imgur.com/aKX2LCQ.png" alt="Imgur" /><br />
4. 新增Server<br />
<img src="https://i.imgur.com/egHg2iQ.png" alt="Imgur" /><br />
5. 修改sftp訊息</p>

<pre><code>&quot;host&quot;: &quot;yourwebsite.domain&quot;
&quot;user&quot;: &quot;ubuntu&quot;
&quot;remote_path&quot;: &quot;/var/www/html/&quot;
</code></pre>

<p><img src="https://i.imgur.com/pVUNSqR.png" alt="Imgur" /><br />
<img src="https://i.imgur.com/x6rDKma.png" alt="Imgur" /><br />
6. 另存新檔<br />
<img src="https://i.imgur.com/IAZtPy8.png" alt="Imgur" /><br />
7. 選擇你的sftp<br />
<img src="https://i.imgur.com/gXbZ9NC.png" alt="Imgur" /><br />
8. 選擇index.html<br />
<img src="https://i.imgur.com/yKANTgd.png" alt="Imgur" /><br />
9. 編輯<br />
<img src="https://i.imgur.com/6KWCYUP.png" alt="Imgur" /><br />
10. Save 上傳<br />
<img src="https://i.imgur.com/SLQg46L.png" alt="Imgur" /><br />
<img src="https://i.imgur.com/BFhfk3z.png" alt="Imgur" /></p>

<h3 id="查看網站的連線狀況">查看網站的連線狀況&nbsp;<a class="anchor" href="#查看網站的連線狀況"><i class="small linkify icon"></i></a> </h3>

<pre><code>traceroute yilianwu.ga 
</code></pre>

<p><img src="https://i.imgur.com/MqoIRWa.png" alt="Imgur" /></p>

<h3 id="ssh-reverse-tunnel">SSH Reverse Tunnel&nbsp;<a class="anchor" href="#ssh-reverse-tunnel"><i class="small linkify icon"></i></a> </h3>

<p>俗稱的VPN翻牆原理<br />
<img src="https://i.imgur.com/GvYvCpr.png" alt="Imgur" /><br />
原本我的IP在台灣<br />
現在我想把它改成我在aws的日本主機～～</p>

<p><a href="https://www.ez2o.com/App/Net/IP">https://www.ez2o.com/App/Net/IP</a><br />
可以到這查看ip位置<br />
<img src="https://i.imgur.com/fkpRrLr.png" alt="Imgur" /></p>

<ol>
<li>登入aws<br />
<br /></li>
</ol>

<pre><code>ssh -p 22 -D 8080 ubuntu@yilianwu.ga
</code></pre>

<p><img src="https://i.imgur.com/yP8gmvD.png" alt="Imgur" /></p>

<ol>
<li><p>下載proxy 擴充程式<br />
<img src="https://i.imgur.com/Pkfy3Tt.png" alt="Imgur" /></p></li>

<li><p>SwitchyOmega設定<br />
<img src="https://i.imgur.com/EKGc5ts.png" alt="Imgur" /></p></li>

<li><p>選擇你的模式<br />
<img src="https://i.imgur.com/oY4uU9I.png" alt="Imgur" /></p></li>

<li><p>重整<br />
媽！ 我在日本了！<br />
<img src="https://i.imgur.com/VFiTuJP.png" alt="Imgur" /></p></li>
</ol>

<h3 id="更改網頁資訊">更改網頁資訊&nbsp;<a class="anchor" href="#更改網頁資訊"><i class="small linkify icon"></i></a> </h3>

<p>新增權限給ubuntu<br />
<img src="https://i.imgur.com/Qpf5pvN.png" alt="Imgur" /><br />
<img src="https://i.imgur.com/pkdqQV9.png" alt="Imgur" /><br />
<img src="https://i.imgur.com/idtCWLo.png" alt="Imgur" /><br />
<img src="https://i.imgur.com/TXZ5x4e.png" alt="Imgur" /></p>

        </section>
        <div class="post-toc" id="post-toc">
          <h2 class="post-toc-title">Contents</h2>
          <nav id="TableOfContents">
<ul>
<li><a href="#platform">Platform</a>
<ul>
<li><a href="#aws">AWS</a>
<ul>
<li><a href="#註冊一個帳號">註冊一個帳號</a></li>
<li><a href="#登入console">登入Console</a></li>
<li><a href="#launch-instance">Launch Instance</a>
<ul>
<li><a href="#step-1-選擇ami">Step 1: 選擇AMI</a></li>
<li><a href="#step-2-choose-an-instance-type">Step 2: Choose an Instance Type</a></li>
<li><a href="#step-3-review-and-launch">Step 3: Review and Launch</a></li>
<li><a href="#step-4-launch再給他按下去">Step 4: Launch再給他按下去</a></li>
<li><a href="#step-5-創建key-pair">Step 5: 創建Key Pair</a></li>
</ul></li>
</ul></li>
<li><a href="#終端機打開">終端機打開</a>
<ul>
<li><a href="#一些設定">一些設定</a></li>
<li><a href="#登入你的系統">登入你的系統</a>
<ul>
<li><a href="#安裝mosh">安裝Mosh</a></li>
<li><a href="#把本機的公鑰加入ubuntu">把本機的公鑰加入ubuntu</a></li>
<li><a href="#安裝lamp-server">安裝LAMP Server</a></li>
<li><a href="#查看連線狀況">查看連線狀況</a>
<ul>
<li><a href="#回到aws">回到aws</a></li>
</ul></li>
<li><a href="#查看目錄">查看目錄</a></li>
<li><a href="#開啟sublime-text">開啟Sublime Text</a></li>
</ul></li>
<li><a href="#查看網站的連線狀況">查看網站的連線狀況</a></li>
<li><a href="#ssh-reverse-tunnel">SSH Reverse Tunnel</a></li>
<li><a href="#更改網頁資訊">更改網頁資訊</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
        </div>
        </div>
	   </div>



  </div>
</main>
<footer class="sand">

	<a href="https://www.facebook.com/beatboxyilianwu" target="_blank"><img src="https://i.imgur.com/EJhxgWk.png" height="30" width="30"></a>
	<a href="https://twitter.com/YiLianWu" target="_blank"><img src="https://i.imgur.com/KvvGcoN.png" height="30" width="30"></a>
	<a href="https://www.instagram.com/weelian/" target="_blank"><img src="https://i.imgur.com/FVUwWv0.png" height="30" width="30"></a>
	<a href="https://www.youtube.com/channel/UCoX_ahsZ27IJh_WQK4CpGJw" target="_blank"><img src="https://i.imgur.com/pZI2aGT.png" height="30" width="30"></a>
	<a href="https://github.com/yilianwu"><img src="https://i.imgur.com/BIgEqmF.png" target="_blank" height="30" width="30"></a>


    <span style="display:block" class="footer-text">&copy 2019 吳羿璉. All rights reserved. Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a></span>
</footer>
<link rel="stylesheet" href="https://yilianwu.github.io/css/solarized-light.css"/>
<script src="https://yilianwu.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
