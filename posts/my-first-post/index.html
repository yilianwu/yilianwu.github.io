<!DOCTYPE html>
<html lang="zh-tw"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="google-site-verification" content="ecnbl87JwcfWTJMChfv-5hv5Oui6nsHqvaTr0ha3Mjg" />
    <title>[ yilianwu ]</title>
    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
	  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">

    <link rel="stylesheet" href="https://yilianwu.github.io/css/styles.css">
    <link rel="stylesheet" href="https://yilianwu.github.io/css/font.css">
</head>
<body><header>
    <nav class="breadcrumb" id="breadcrumb">
	     <h4><a href="/">[ yilianwu ]</a></h4>
	       
            
            <a href="/info">INFO</a>
            
            <a href="/posts">POSTS</a>
            
            <a href="/works">WORKS</a>
            
    </nav>
    <div class="menutime">
      <a id='cd' ></a>
      <a id='ct' ></a>
      <script type="text/javascript" src="/js/menutime.js"></script>
    </div>
</header>

<main id="single">
  <div id="post" class="white">
	   <div class="container">
        <div class="post-toc" id="post-toc">
            <h2 class="post-toc-title">Contents</h2>
            <nav id="TableOfContents">
<ul>
<li><a href="#step1-建立github-repo">Step1:建立GitHub repo</a></li>
<li><a href="#step2-打開terminal終端機">Step2:打開Terminal終端機</a>
<ul>
<li><a href="#1-安裝homebrew">1.安裝Homebrew</a></li>
<li><a href="#2-安裝hugo">2.安裝Hugo</a></li>
<li><a href="#3-建立hugo網站">3.建立Hugo網站</a></li>
<li><a href="#4-新增hugo-site-theme-主題">4.新增Hugo Site Theme(主題)</a></li>
<li><a href="#5-建立新文章">5.建立新文章</a></li>
<li><a href="#6-編輯-config-toml-檔">6.編輯<code>config.toml</code>檔</a></li>
<li><a href="#7-偷看一下">7.偷看一下</a></li>
</ul></li>
<li><a href="#step3-將hugo部署到github">Step3:將Hugo部署到GitHub</a>
<ul>
<li><a href="#1-hugo連結github-page">1.hugo連結github Page</a></li>
<li><a href="#2-部署">2.部署</a></li>
<li><a href="#3-自動部署">3.自動部署</a></li>
</ul></li>
</ul>
</nav>
        </div>
       <div class="paperbg">
            <div id="title">
                <h1>用GitHub Page搭配Hugo建立靜態網站</h1>
                
	          </div>
            <div class="post-meta">
                <span class="post-time"> 2019-01-28 </span>
                <div class="post-tag">
                  
                    <a class="tag-link" href="/tags/hugo/"> Hugo </a>
                    <a class="tag-link" href="/tags/github/"> GitHub </a>
                    <a class="tag-link" href="/tags/terminal/"> Terminal </a>
                    </div>


                <section class="post-content">
                <p>紀錄這個site的創建過程</p>

<p>使用的作業系統是Mac OSX
步驟大概可以分成三個部分：</p>

<p>1.建立GitHub repo</p>

<p>2.terminal Hugo 設定</p>

<p>3.將Hugo部署至GitHub Page</p>

<h1 id="step1-建立github-repo">Step1:建立GitHub repo&nbsp;<a href="#step1-建立github-repo" class="anchor"></a> </h1>

<p>如果已經有<a href="https://github.com/">github</a>帳號的，可以直接新建一個repo<br />
repo的名稱要叫<code>&lt;username&gt;.github.io</code> //這裡的username請自行帶入你的帳號名稱<br />
或是直接拿任何一個repo</p>

<p>創建好了之後到repo設定，將GitHub Page的功能打開～<br />
舉例來說，我的username是yilianwu<br />
之後我的網址就會是 <a href="https://yilianwu.github.io">https://yilianwu.github.io</a><br />
如果有自己的domain name也可以直接在這邊改好哦</p>

<p><img src="https://i.imgur.com/fo5aLoK.png" alt="Imgur" /></p>

<h1 id="step2-打開terminal終端機">Step2:打開Terminal終端機&nbsp;<a href="#step2-打開terminal終端機" class="anchor"></a> </h1>

<h2 id="1-安裝homebrew">1.安裝Homebrew&nbsp;<a href="#1-安裝homebrew" class="anchor"></a> </h2>

<pre><code class="language-bash">/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre>

<h2 id="2-安裝hugo">2.安裝Hugo&nbsp;<a href="#2-安裝hugo" class="anchor"></a> </h2>

<pre><code class="language-bash">brew install hugo
</code></pre>

<h2 id="3-建立hugo網站">3.建立Hugo網站&nbsp;<a href="#3-建立hugo網站" class="anchor"></a> </h2>

<pre><code class="language-bash">  #創一個資料夾 他的路徑是 ~/site-hugo
  hugo new site site-hugo

  #進到資料夾中
  cd site-hugo
</code></pre>

<p>這裡的<strong>site-hugo</strong>可以是任意名稱</p>

<h2 id="4-新增hugo-site-theme-主題">4.新增Hugo Site Theme(主題)&nbsp;<a href="#4-新增hugo-site-theme-主題" class="anchor"></a> </h2>

<p><strong><a href="https://themes.gohugo.io/">點我挑選主題</a></strong></p>

<p>這邊以<a href="https://themes.gohugo.io/hugo-grapes/">Hugo Grapes</a>舉例</p>

<ol>
<li>新創一個資料夾themes</li>
</ol>

<pre><code class="language-bash">  mkdir themes

  #進到themes資料夾中
  cd themes

  #將github上的hugo grapes給clone下來你的themes資料夾
  git clone git@github.com:shankar/hugo-grapes.git hugo-grapes
</code></pre>

<ol>
<li>將<code>/themes/hugo-grapes</code>中的<code>/static</code>、<code>/layouts</code>、<code>/content</code>
與<code>config.toml</code>複製到<code>site-hugo</code>中
原本的檔案會被覆蓋掉</li>
</ol>

<h2 id="5-建立新文章">5.建立新文章&nbsp;<a href="#5-建立新文章" class="anchor"></a> </h2>

<p>再打開terminal
輸入以下指令</p>

<pre><code class="language-bash">cd ..
hugo new posts/my-first-post.md
</code></pre>

<p>此指令會在 <code>/content/posts</code> 資料夾中建立<code>my-first-post.md</code>。
使用任意文字編輯器打開<code>my-first-post.md</code>，<strong>將 draft 的true 改成 false</strong> //將草稿的功能關掉 才發布的出去
內容任意，以後如果要編輯文章(MarkDown文件)的話可以用<a href="https://atom.io/">Atom</a></p>

<h2 id="6-編輯-config-toml-檔">6.編輯<code>config.toml</code>檔&nbsp;<a href="#6-編輯-config-toml-檔" class="anchor"></a> </h2>

<p>用文字編輯器打開<code>config.toml</code>修改：</p>

<pre><code class="language-bash">  #&lt;username&gt;改成你的GitHub帳號名稱
  URL = &quot;https://&lt;username&gt;.github.io&quot;    
  languageCode = &quot;zh-tw&quot;
  #自由命名
  title = &quot;No Title Needed&quot;
</code></pre>

<h2 id="7-偷看一下">7.偷看一下&nbsp;<a href="#7-偷看一下" class="anchor"></a> </h2>

<pre><code class="language-bash">cd ~/site-hugo
hugo server -D
</code></pre>

<p><img src="https://i.imgur.com/xos5SRG.png" alt="Imgur" /></p>

<p>這時候在瀏覽器輸入<a href="http://localhost:1313/">http://localhost:1313/</a>
就可以預覽網站的樣子囉
<img src="https://i.imgur.com/4HRTYkQ.png" alt="Imgur" />
按Ctrl+C可退出預覽</p>

<h1 id="step3-將hugo部署到github">Step3:將Hugo部署到GitHub&nbsp;<a href="#step3-將hugo部署到github" class="anchor"></a> </h1>

<h2 id="1-hugo連結github-page">1.hugo連結github Page&nbsp;<a href="#1-hugo連結github-page" class="anchor"></a> </h2>

<pre><code class="language-bash">cd ~/site-hugo #進到網站資料夾
hugo #此指令會產生一個 /public 資料夾 就是網站發佈出去的樣子
</code></pre>

<p>接著，進到<code>/public</code> 建立git連結</p>

<pre><code class="language-bash">cd public
git init
git remote add origin https://github.com/&lt;username&gt;/&lt;username&gt;.github.io.git
</code></pre>

<p>可以到repo頁面直接獲得連結
<img src="https://i.imgur.com/RUbHUC9.png" alt="Imgur" /></p>

<p>如果是github上已經有東西了 可以直接clone下來</p>

<pre><code class="language-bash">git clone https://github.com/&lt;username&gt;/&lt;username&gt;.github.io.git public
</code></pre>

<h2 id="2-部署">2.部署&nbsp;<a href="#2-部署" class="anchor"></a> </h2>

<pre><code class="language-bash"># push 上 GitHub
git add .
git commit -m &quot;&lt;msg&gt;&quot; #&lt;msg&gt;可以填你要commit的東西
git push -u origin master
</code></pre>

<p>若push失敗，可以將<code>git push -u origin master</code> 改成強制push</p>

<pre><code class="language-bash">git push -f origin master
</code></pre>

<p>這時候就可以到<code>https://&lt;username&gt;.github.io</code> 查看網站</p>

<h2 id="3-自動部署">3.自動部署&nbsp;<a href="#3-自動部署" class="anchor"></a> </h2>

<p>將上面的流程寫成一個shell script
以後做完更改只要一鍵就可以完成部署網站！</p>

<ol>
<li>在<code>~/</code>本地裡面建立一個<code>deploy.sh</code>
<code>bash
cd ~
touch deploy.sh
</code></li>
<li>到切換回finder找到剛創的<code>deploy.sh</code>，並用文字編輯器打開它</li>
</ol>

<p>新增內容:</p>

<pre><code class="language-bash">  #!/bin/sh
  echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;
  #生成靜態網頁至 public
  cd site-hugo
  hugo
  #部署至github
  cd public
  git add .
  msg=&quot;rebuilding site `date`&quot;  #以時間作為 commit message
  git commit -m &quot;$msg&quot;
  git push origin master
  cd ..
</code></pre>

<p>之後只要執行</p>

<pre><code class="language-bash">  ./deploy.sh  
</code></pre>

<p>如果出現Error:bash Permission denied
  到表你沒有權限執行這個檔案
  這時候可以透過，來得到權限</p>

<pre><code class="language-bash">  chmod u+x deploy.sh
</code></pre>

<p><img src="https://i.imgur.com/wcSo6bM.png" alt="Imgur" /></p>

<p>就會直接發佈到github
  <img src="https://i.imgur.com/uNKBoxb.png" alt="Imgur" /></p>

<p><a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">Reference</a></p>
                </section>
        
            </div>
	     </div>



     </div>
  </div>
</main>
<footer class="sand">

	<a href="https://www.facebook.com/beatboxyilianwu" target="_blank"><img src="https://i.imgur.com/EJhxgWk.png" height="30" width="30"></a>
	<a href="https://twitter.com/YiLianWu" target="_blank"><img src="https://i.imgur.com/KvvGcoN.png" height="30" width="30"></a>
	<a href="https://www.instagram.com/weelian/" target="_blank"><img src="https://i.imgur.com/FVUwWv0.png" height="30" width="30"></a>
	
	<a href="https://github.com/yilianwu" target="_blank"><img src="https://i.imgur.com/BIgEqmF.png" height="30" width="30"></a>
	<a href="https://www.linkedin.com/in/yilianwu/" target="_blank"><img src="https://i.imgur.com/hCGvLEq.png" height="30" width="30"></a>

    <span style="display:block" class="footer-text">&copy 2019-2020 吳羿璉. All rights reserved. Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a></span>
</footer>
<script src="https://code.jquery.com/jquery-latest.js"></script>
<script>
	$('.post-content h1').prepend("§ ");
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "left"
    });
</script>
<script type="text/javascript"
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script> 
<link rel="stylesheet" href="https://yilianwu.github.io/css/solarized-light.css"/>
<script src="https://yilianwu.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
